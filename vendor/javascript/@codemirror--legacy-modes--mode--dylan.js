// @codemirror/legacy-modes/mode/dylan@6.4.2 downloaded from https://ga.jspm.io/npm:@codemirror/legacy-modes@6.4.2/mode/dylan.js

function forEach(e,n){for(var t=0;t<e.length;t++)n(e[t],t)}function some(e,n){for(var t=0;t<e.length;t++)if(n(e[t],t))return true;return false}var e={unnamedDefinition:["interface"],namedDefinition:["module","library","macro","C-struct","C-union","C-function","C-callable-wrapper"],typeParameterizedDefinition:["class","C-subtype","C-mapped-subtype"],otherParameterizedDefinition:["method","function","C-variable","C-address"],constantSimpleDefinition:["constant"],variableSimpleDefinition:["variable"],otherSimpleDefinition:["generic","domain","C-pointer-type","table"],statement:["if","block","begin","method","case","for","select","when","unless","until","while","iterate","profiling","dynamic-bind"],separator:["finally","exception","cleanup","else","elseif","afterwards"],other:["above","below","by","from","handler","in","instance","let","local","otherwise","slot","subclass","then","to","keyed-by","virtual"],signalingCalls:["signal","error","cerror","break","check-type","abort"]};e.otherDefinition=e.unnamedDefinition.concat(e.namedDefinition).concat(e.otherParameterizedDefinition);e.definition=e.typeParameterizedDefinition.concat(e.otherDefinition);e.parameterizedDefinition=e.typeParameterizedDefinition.concat(e.otherParameterizedDefinition);e.simpleDefinition=e.constantSimpleDefinition.concat(e.variableSimpleDefinition).concat(e.otherSimpleDefinition);e.keyword=e.statement.concat(e.separator).concat(e.other);var n="[-_a-zA-Z?!*@<>$%]+";var t=new RegExp("^"+n);var i={symbolKeyword:n+":",symbolClass:"<"+n+">",symbolGlobal:"\\*"+n+"\\*",symbolConstant:"\\$"+n};var r={symbolKeyword:"atom",symbolClass:"tag",symbolGlobal:"variableName.standard",symbolConstant:"variableName.constant"};for(var a in i)i.hasOwnProperty(a)&&(i[a]=new RegExp("^"+i[a]));i.keyword=[/^with(?:out)?-[-_a-zA-Z?!*@<>$%]+/];var o={};o.keyword="keyword";o.definition="def";o.simpleDefinition="def";o.signalingCalls="builtin";var f={};var l={};forEach(["keyword","definition","simpleDefinition","signalingCalls"],(function(n){forEach(e[n],(function(e){f[e]=n;l[e]=o[n]}))}));function chain(e,n,t){n.tokenize=t;return t(e,n)}function tokenBase(e,n){var a=e.peek();if(a=="'"||a=='"'){e.next();return chain(e,n,tokenString(a,"string"))}if(a=="/"){e.next();if(e.eat("*"))return chain(e,n,tokenComment);if(e.eat("/")){e.skipToEnd();return"comment"}e.backUp(1)}else if(/[+\-\d\.]/.test(a)){if(e.match(/^[+-]?[0-9]*\.[0-9]*([esdx][+-]?[0-9]+)?/i)||e.match(/^[+-]?[0-9]+([esdx][+-]?[0-9]+)/i)||e.match(/^[+-]?\d+/))return"number"}else{if(a=="#"){e.next();a=e.peek();if(a=='"'){e.next();return chain(e,n,tokenString('"',"string"))}if(a=="b"){e.next();e.eatWhile(/[01]/);return"number"}if(a=="x"){e.next();e.eatWhile(/[\da-f]/i);return"number"}if(a=="o"){e.next();e.eatWhile(/[0-7]/);return"number"}if(a=="#"){e.next();return"punctuation"}if(a=="["||a=="("){e.next();return"bracket"}if(e.match(/f|t|all-keys|include|key|next|rest/i))return"atom";e.eatWhile(/[-a-zA-Z]/);return"error"}if(a=="~"){e.next();a=e.peek();if(a=="="){e.next();a=e.peek();if(a=="="){e.next();return"operator"}return"operator"}return"operator"}if(a==":"){e.next();a=e.peek();if(a=="="){e.next();return"operator"}if(a==":"){e.next();return"punctuation"}}else{if("[](){}".indexOf(a)!=-1){e.next();return"bracket"}if(".,".indexOf(a)!=-1){e.next();return"punctuation"}if(e.match("end"))return"keyword"}}for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];if(c instanceof Array&&some(c,(function(n){return e.match(n)}))||e.match(c))return r[o]}if(/[+\-*\/^=<>&|]/.test(a)){e.next();return"operator"}if(e.match("define"))return"def";e.eatWhile(/[\w\-]/);if(f.hasOwnProperty(e.current()))return l[e.current()];if(e.current().match(t))return"variable";e.next();return"variableName.standard"}function tokenComment(e,n){var t,i=false,r=false,a=0;while(t=e.next()){if(t=="/"&&i){if(!(a>0)){n.tokenize=tokenBase;break}a--}else t=="*"&&r&&a++;i=t=="*";r=t=="/"}return"comment"}function tokenString(e,n){return function(t,i){var r,a=false,o=false;while((r=t.next())!=null){if(r==e&&!a){o=true;break}a=!a&&r=="\\"}!o&&a||(i.tokenize=tokenBase);return n}}const c={name:"dylan",startState:function(){return{tokenize:tokenBase,currentIndent:0}},token:function(e,n){if(e.eatSpace())return null;var t=n.tokenize(e,n);return t},languageData:{commentTokens:{block:{open:"/*",close:"*/"}}}};export{c as dylan};

