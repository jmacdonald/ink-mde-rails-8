// @codemirror/legacy-modes/mode/julia@6.4.2 downloaded from https://ga.jspm.io/npm:@codemirror/legacy-modes@6.4.2/mode/julia.js

function wordRegexp(e,t,n){typeof n==="undefined"&&(n="");typeof t==="undefined"&&(t="\\b");return new RegExp("^"+n+"(("+e.join(")|(")+"))"+t)}var e="\\\\[0-7]{1,3}";var t="\\\\x[A-Fa-f0-9]{1,2}";var n="\\\\[abefnrtv0%?'\"\\\\]";var r="([^\\u0027\\u005C\\uD800-\\uDFFF]|[\\uD800-\\uDFFF][\\uDC00-\\uDFFF])";var a=["[<>]:","[<>=]=","<<=?",">>>?=?","=>","--?>","<--[->]?","\\/\\/","\\.{2,3}","[\\.\\\\%*+\\-<>!\\/^|&]=?","\\?","\\$","~",":"];var i=wordRegexp(["[<>]:","[<>=]=","[!=]==","<<=?",">>>?=?","=>?","--?>","<--[->]?","\\/\\/","[\\\\%*+\\-<>!\\/^|&\\u00F7\\u22BB]=?","\\?","\\$","~",":","\\u00D7","\\u2208","\\u2209","\\u220B","\\u220C","\\u2218","\\u221A","\\u221B","\\u2229","\\u222A","\\u2260","\\u2264","\\u2265","\\u2286","\\u2288","\\u228A","\\u22C5","\\b(in|isa)\\b(?!.?\\()"],"");var o=/^[;,()[\]{}]/;var u=/^[_A-Za-z\u00A1-\u2217\u2219-\uFFFF][\w\u00A1-\u2217\u2219-\uFFFF]*!*/;var s=wordRegexp([e,t,n,r],"'");var c=["begin","function","type","struct","immutable","let","macro","for","while","quote","if","else","elseif","try","finally","catch","do"];var f=["end","else","elseif","catch","finally"];var l=["if","else","elseif","while","for","begin","let","end","do","try","catch","finally","return","break","continue","global","local","const","export","import","importall","using","function","where","macro","module","baremodule","struct","type","mutable","immutable","quote","typealias","abstract","primitive","bitstype"];var m=["true","false","nothing","NaN","Inf"];var p=wordRegexp(c);var d=wordRegexp(f);var h=wordRegexp(l);var k=wordRegexp(m);var v=/^@[_A-Za-z\u00A1-\uFFFF][\w\u00A1-\uFFFF]*!*/;var F=/^:[_A-Za-z\u00A1-\uFFFF][\w\u00A1-\uFFFF]*!*/;var g=/^(`|([_A-Za-z\u00A1-\uFFFF]*"("")?))/;var b=wordRegexp(a,"","@");var x=wordRegexp(a,"",":");function inArray(e){return e.nestedArrays>0}function inGenerator(e){return e.nestedGenerators>0}function currentScope(e,t){typeof t==="undefined"&&(t=0);return e.scopes.length<=t?null:e.scopes[e.scopes.length-(t+1)]}function tokenBase(e,t){if(e.match("#=",false)){t.tokenize=tokenComment;return t.tokenize(e,t)}var n=t.leavingExpr;e.sol()&&(n=false);t.leavingExpr=false;if(n&&e.match(/^'+/))return"operator";if(e.match(/\.{4,}/))return"error";if(e.match(/\.{1,3}/))return"operator";if(e.eatSpace())return null;var r=e.peek();if(r==="#"){e.skipToEnd();return"comment"}if(r==="["){t.scopes.push("[");t.nestedArrays++}if(r==="("){t.scopes.push("(");t.nestedGenerators++}if(inArray(t)&&r==="]"){while(t.scopes.length&&currentScope(t)!=="[")t.scopes.pop();t.scopes.pop();t.nestedArrays--;t.leavingExpr=true}if(inGenerator(t)&&r===")"){while(t.scopes.length&&currentScope(t)!=="(")t.scopes.pop();t.scopes.pop();t.nestedGenerators--;t.leavingExpr=true}if(inArray(t)){if(t.lastToken=="end"&&e.match(":"))return"operator";if(e.match("end"))return"number"}var a;(a=e.match(p,false))&&t.scopes.push(a[0]);e.match(d,false)&&t.scopes.pop();if(e.match(/^::(?![:\$])/)){t.tokenize=tokenAnnotation;return t.tokenize(e,t)}if(!n&&(e.match(F)||e.match(x)))return"builtin";if(e.match(i))return"operator";if(e.match(/^\.?\d/,false)){var s=RegExp(/^im\b/);var c=false;e.match(/^0x\.[0-9a-f_]+p[\+\-]?[_\d]+/i)&&(c=true);e.match(/^0x[0-9a-f_]+/i)&&(c=true);e.match(/^0b[01_]+/i)&&(c=true);e.match(/^0o[0-7_]+/i)&&(c=true);e.match(/^(?:(?:\d[_\d]*)?\.(?!\.)(?:\d[_\d]*)?|\d[_\d]*\.(?!\.)(?:\d[_\d]*))?([Eef][\+\-]?[_\d]+)?/i)&&(c=true);e.match(/^\d[_\d]*(e[\+\-]?\d+)?/i)&&(c=true);if(c){e.match(s);t.leavingExpr=true;return"number"}}if(e.match("'")){t.tokenize=tokenChar;return t.tokenize(e,t)}if(e.match(g)){t.tokenize=tokenStringFactory(e.current());return t.tokenize(e,t)}if(e.match(v)||e.match(b))return"meta";if(e.match(o))return null;if(e.match(h))return"keyword";if(e.match(k))return"builtin";var f=t.isDefinition||t.lastToken=="function"||t.lastToken=="macro"||t.lastToken=="type"||t.lastToken=="struct"||t.lastToken=="immutable";if(e.match(u)){if(f){if(e.peek()==="."){t.isDefinition=true;return"variable"}t.isDefinition=false;return"def"}t.leavingExpr=true;return"variable"}e.next();return"error"}function tokenAnnotation(e,t){e.match(/.*?(?=[,;{}()=\s]|$)/);e.match("{")?t.nestedParameters++:e.match("}")&&t.nestedParameters>0&&t.nestedParameters--;t.nestedParameters>0?e.match(/.*?(?={|})/)||e.next():t.nestedParameters==0&&(t.tokenize=tokenBase);return"builtin"}function tokenComment(e,t){e.match("#=")&&t.nestedComments++;e.match(/.*?(?=(#=|=#))/)||e.skipToEnd();if(e.match("=#")){t.nestedComments--;t.nestedComments==0&&(t.tokenize=tokenBase)}return"comment"}function tokenChar(e,t){var n,r=false;if(e.match(s))r=true;else if(n=e.match(/\\u([a-f0-9]{1,4})(?=')/i)){var a=parseInt(n[1],16);if(a<=55295||a>=57344){r=true;e.next()}}else if(n=e.match(/\\U([A-Fa-f0-9]{5,8})(?=')/)){a=parseInt(n[1],16);if(a<=1114111){r=true;e.next()}}if(r){t.leavingExpr=true;t.tokenize=tokenBase;return"string"}e.match(/^[^']+(?=')/)||e.skipToEnd();e.match("'")&&(t.tokenize=tokenBase);return"error"}function tokenStringFactory(e){e.substr(-3)==='"""'?e='"""':e.substr(-1)==='"'&&(e='"');function tokenString(t,n){if(t.eat("\\"))t.next();else{if(t.match(e)){n.tokenize=tokenBase;n.leavingExpr=true;return"string"}t.eat(/[`"]/)}t.eatWhile(/[^\\`"]/);return"string"}return tokenString}const y={name:"julia",startState:function(){return{tokenize:tokenBase,scopes:[],lastToken:null,leavingExpr:false,isDefinition:false,nestedArrays:0,nestedComments:0,nestedGenerators:0,nestedParameters:0,firstParenPos:-1}},token:function(e,t){var n=t.tokenize(e,t);var r=e.current();r&&n&&(t.lastToken=r);return n},indent:function(e,t,n){var r=0;(t==="]"||t===")"||/^end\b/.test(t)||/^else/.test(t)||/^catch\b/.test(t)||/^elseif\b/.test(t)||/^finally/.test(t))&&(r=-1);return(e.scopes.length+r)*n.unit},languageData:{indentOnInput:/^\s*(end|else|catch|finally)\b$/,commentTokens:{line:"#",block:{open:"#=",close:"=#"}},closeBrackets:{brackets:["(","[","{",'"']},autocomplete:l.concat(m)}};export{y as julia};

