// @codemirror/legacy-modes/mode/mbox@6.4.2 downloaded from https://ga.jspm.io/npm:@codemirror/legacy-modes@6.4.2/mode/mbox.js

var e=["From","Sender","Reply-To","To","Cc","Bcc","Message-ID","In-Reply-To","References","Resent-From","Resent-Sender","Resent-To","Resent-Cc","Resent-Bcc","Resent-Message-ID","Return-Path","Received"];var r=["Date","Subject","Comments","Keywords","Resent-Date"];var a=/^[ \t]/;var t=/^From /;var n=new RegExp("^("+e.join("|")+"): ");var i=new RegExp("^("+r.join("|")+"): ");var o=/^[^:]+:/;var s=/^[^ ]+@[^ ]+/;var d=/^.*?(?=[^ ]+?@[^ ]+)/;var u=/^<.*?>/;var l=/^.*?(?=<.*>)/;function styleForHeader(e){return e==="Subject"?"header":"string"}function readToken(e,r){if(e.sol()){r.inSeparator=false;if(r.inHeader&&e.match(a))return null;r.inHeader=false;r.header=null;if(e.match(t)){r.inHeaders=true;r.inSeparator=true;return"atom"}var m;var c=false;if((m=e.match(i))||(c=true)&&(m=e.match(n))){r.inHeaders=true;r.inHeader=true;r.emailPermitted=c;r.header=m[1];return"atom"}if(r.inHeaders&&(m=e.match(o))){r.inHeader=true;r.emailPermitted=true;r.header=m[1];return"atom"}r.inHeaders=false;e.skipToEnd();return null}if(r.inSeparator){if(e.match(s))return"link";if(e.match(d))return"atom";e.skipToEnd();return"atom"}if(r.inHeader){var f=styleForHeader(r.header);if(r.emailPermitted){if(e.match(u))return f+" link";if(e.match(l))return f}e.skipToEnd();return f}e.skipToEnd();return null}const m={name:"mbox",startState:function(){return{inSeparator:false,inHeader:false,emailPermitted:false,header:null,inHeaders:false}},token:readToken,blankLine:function(e){e.inHeaders=e.inSeparator=e.inHeader=false},languageData:{autocomplete:e.concat(r)}};export{m as mbox};

